<h2>Wijzigen gebruiker: {{ user?.name }}</h2>
<div *ngIf="userExists && isUserProperty">
    <form name="form" (ngSubmit)="onEdit()" novalidate class="mt-5">
        <!-- Name -->
        <div class="form-group">
            <label for="name">Naam</label>
            <input required type="text" name="name" id="name" class="form-control" [(ngModel)]="user!.name"
                #name="ngModel">
        </div>
        <div class="alert alert-danger" *ngIf="name.touched && !name.valid">
            Naam is een verplicht veld
        </div>

        <!-- Email -->
        <div class="form-group">
            <label for="email">Email</label>
            <input required type="email" name="email" id="email" class="form-control" [(ngModel)]="user!.email"
                #email="ngModel">
        </div>
        <div class="alert alert-danger" *ngIf="email.touched && !email.valid">
            Email is een verplicht veld
        </div>

        <!-- Password -->
        <div class="form-group">
            <label for="password">Wachtwoord</label>
            <input required type="password" name="password" id="password" class="form-control"
                [(ngModel)]="user!.password" #password="ngModel">
        </div>
        <div class="alert alert-danger" *ngIf="password.touched && !password.valid">
            Wachtwoord is een verplicht veld
        </div>

        <!-- PhoneNumber -->
        <div class="form-group">
            <label for="phoneNumber">Telefoonnummer</label>
            <input required type="text" name="phoneNumber" id="phoneNumber" class="form-control"
                [(ngModel)]="user!.phoneNumber" #phoneNumber="ngModel">
        </div>
        <div class="alert alert-danger" *ngIf="phoneNumber.touched && !phoneNumber.valid">
            Telefoonnummer is een verplicht veld
        </div>

        <!-- Birthday -->
        <div class="form-group">
            <label for="birthday">Geboren</label>
            <input required type="date" name="birthday" id="birthday" class="form-control"
                [ngModel]="user!.birthday | date:'yyyy-MM-dd'" #birthday="ngModel" />
        </div>
        <div class="alert alert-danger" *ngIf="birthday.touched && !birthday.valid">
            Geboortedatum is een verplicht veld!
        </div>

        <!-- Gender -->
        <div class="form-group">
            <label for="gender">Geslacht</label>
            <select required name="gender" id="gender" class="form-control" [(ngModel)]="user!.gender">
                <option *ngFor="let gender of genders" [value]="gender" [selected]="user!.gender == gender">
                    {{ gender }}
                </option>
            </select>
        </div>

        <div class="mt-5 d-flex flex-row">
            <button type="submit" class="btn btn-primary">Wijzigen</button>
            <form name="deleteForm" (ngSubmit)="onDelete()">
                <button type="submit" class="btn btn-danger ms-2">Verwijderen</button>
            </form>
            <a routerLink=".." class="btn btn-secondary ms-2">Terug</a>
        </div>
    </form>

    <div class="mt-3">
        <span>{{ message }}</span>
    </div>
</div>

<div *ngIf="userExists && !isUserProperty">
    <span class="danger text-danger">Je hebt geen rechten om deze gebruiker te wijzigen</span><br />
    <a routerLink="../.." class="btn btn-primary mt-2">Terug</a>
</div>

<div *ngIf="!userExists">
    <span class="danger text-danger">User with id: {{ componentId }} does not exists</span><br />
    <a routerLink="../.." class="btn btn-primary mt-2">Terug</a>
</div>